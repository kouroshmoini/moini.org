---
layout: null
permalink: /search.json
---

[
  {% assign first = true %}

  {% for p in site.pages %}
    {% if p.title and p.url and p.search != false and p.url != "/search.json" %}
      {% unless first %},{% endunless %}
      {
        "type": "Page",
        "title": {{ p.title | jsonify }},
        "url": {{ p.url | relative_url | jsonify }},
        "date": "",
        "content": {{ p.content | markdownify | strip_html | strip_newlines | jsonify }}
      }
      {% assign first = false %}
    {% endif %}
  {% endfor %}

  {% for post in site.posts %}
    {% unless first %},{% endunless %}
    {
      "type": "Post",
      "title": {{ post.title | jsonify }},
      "url": {{ post.url | relative_url | jsonify }},
      "date": {{ post.date | date: "%b %d, %Y" | jsonify }},
      "content": {{ post.content | markdownify | strip_html | strip_newlines | jsonify }}
    }
    {% assign first = false %}
  {% endfor %}
]
